@use "sass:math";
@use "../_utils/utils" as *;

$grid-base: 3;
$grid-gap: 50px;

/// -----------------------------------------------------------------------------
/// ðŸŸ¢ Grid
///
/// @author Leighton Quito (iamleigh.com)
/// -----------------------------------------------------------------------------
@include block(grid) {
	@include bp(min-width, md) {
		display: grid;
		grid-template-rows: auto;
	}

	@include modifier(horizontal) {
		@include bp(min-width, md) {
			grid-template-columns: repeat($grid-base, 1fr);
			margin: 0 -#{$grid-gap};
		}

		@include modifies-element(col) {
			padding: 0 $grid-gap;
			border-right: 1px solid $color-neutral-70;

			&:last-child {
				border-right: 0;
			}
		}
	}

	@include modifier(vertical) {
		@include bp(min-width, md) {
			grid-template-columns: repeat(1, 1fr);
		}

		@include modifies-element(row) {
			@include bp(min-width, md) {
				border-bottom: 1px solid $color-neutral-70;

				&:first-child {
					.am-grid__col:nth-child(-n+3) {
						padding-top: 0;
					}
				}

				&:last-child {
					border-bottom: 0;

					.am-grid__col:nth-last-child(-n+3) {
						padding-bottom: 0;
					}
				}
			}
		}

		@include modifies-element(col) {
			@include bp(min-width, md) {
				padding-top: $grid-gap;
				padding-bottom: $grid-gap;
			}
		}
	}
}

@include block(ngrid) {
	@include bp(min-width, md) {
		display: grid;
		gap: 101px;
		grid-template-rows: auto;
		grid-template-columns: repeat(3, 1fr);
	}

	@include element(col) {
		position: relative;

		@include bp(min-width, md) {
			&::before, &::after {
				content: " ";
				position: absolute;
				display: block;
				background: $color-neutral-70;
			}

			&::before {
				width: 1px;
				top: 0;
				bottom: -101px;
				left: -50px;
			}

			&::after {
				height: 1px;
				top: -50px;
				left: 0;
				right: -101px;
			}

			&:nth-child(-n + 3) {
				&::after {
					display: none;
				}
			}

			&:nth-child(3n + 1) {
				&::before {
					display: none;
				}
			}

			&:nth-child(3n + 3) {
				&::after {
					right: 0;
				}
			}

			&:nth-last-child(-n + 3) {
				&::before {
					bottom: 0;
				}
			}
		}
	}
}
